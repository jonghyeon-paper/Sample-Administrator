DROP TABLE USER IF EXISTS;

CREATE TABLE USER (
    USER_ID VARCHAR_IGNORECASE(50) NOT NULL PRIMARY KEY,
    USER_NAME VARCHAR_IGNORECASE(50) NOT NULL,
    PASSWORD VARCHAR_IGNORECASE(50) NOT NULL,
    USE_STATE VARCHAR_IGNORECASE(50) NOT NULL
);

DROP TABLE USER_AUTHORITY IF EXISTS;

CREATE TABLE USER_AUTHORITY (
    USER_ID VARCHAR_IGNORECASE(50) NOT NULL,
    AUTHORITY_ID VARCHAR_IGNORECASE(50) NOT NULL,
    PRIMARY KEY(USER_ID, AUTHORITY_ID)
);

DROP TABLE AUTHORITY IF EXISTS;

CREATE TABLE AUTHORITY (
    AUTHORITY_ID VARCHAR_IGNORECASE(50) NOT NULL PRIMARY KEY,
    AUTHORITY_NAME VARCHAR_IGNORECASE(50) NOT NULL,
    DESCRIPTION VARCHAR_IGNORECASE(50),
    USE_STATE VARCHAR_IGNORECASE(50) NOT NULL
);

DROP TABLE AUTHORITY_ACCESS IF EXISTS;

CREATE TABLE AUTHORITY_ACCESS (
    AUTHORITY_ID VARCHAR_IGNORECASE(50) NOT NULL,
    ACCESS_MODE VARCHAR_IGNORECASE(50) NOT NULL,
    PRIMARY KEY(AUTHORITY_ID, ACCESS_MODE)
);

DROP TABLE AUTHORITY_MENU IF EXISTS;

CREATE TABLE AUTHORITY_MENU (
    AUTHORITY_ID VARCHAR_IGNORECASE(50) NOT NULL,
    MENU_ID INT NOT NULL,
    PRIMARY KEY(AUTHORITY_ID, MENU_ID)
);

DROP TABLE MENU IF EXISTS;

CREATE TABLE MENU (
    MENU_ID INT NOT NULL PRIMARY KEY,
    PARENT_MENU_ID INT,
    MENU_NAME VARCHAR_IGNORECASE(50) NOT NULL,
    URI VARCHAR_IGNORECASE(50),
    DESCRIPTION VARCHAR_IGNORECASE(50),
    DISPLAY_ORDER INT,
    USE_STATE VARCHAR_IGNORECASE(50) NOT NULL
);

DROP TABLE MENU_DEPENDENCE IF EXISTS;

CREATE TABLE MENU_DEPENDENCE (
    SEQUENCE INT NOT NULL PRIMARY KEY,
    MENU_ID INT NOT NULL,
    DEPENDENCE_URI VARCHAR_IGNORECASE(50) NOT NULL
);

DROP TABLE MENU_DEPENDENCE IF EXISTS;

CREATE TABLE MENU_DEPENDENCE (
    SEQUENCE INT GENERATED BY DEFAULT AS IDENTITY(START WITH 2, INCREMENT BY 1) NOT NULL PRIMARY KEY,
    MENU_ID INT NOT NULL,
    DEPENDENCE_URI VARCHAR_IGNORECASE(50) NOT NULL
);

DROP TABLE LOGIN_HISTORY IF EXISTS;

CREATE TABLE LOGIN_HISTORY (
    SEQUENCE INT GENERATED BY DEFAULT AS IDENTITY(START WITH 100, INCREMENT BY 1) NOT NULL PRIMARY KEY,
    ACCESS_USER_ID VARCHAR_IGNORECASE(50) NOT NULL,
    ACCESS_DATE TIMESTAMP NOT NULL,
    ACCESS_SUCCESS BOOLEAN NOT NULL,
    MESSAGE VARCHAR_IGNORECASE(50)
);

DROP TABLE CODE IF EXISTS;

CREATE TABLE CODE (
    CODE_ID VARCHAR_IGNORECASE(50) NOT NULL PRIMARY KEY,
    PARENT_CODE_ID VARCHAR_IGNORECASE(50),
    CODE_NAME VARCHAR_IGNORECASE(50) NOT NULL,
    DESCRIPTION VARCHAR_IGNORECASE(50),
    DISPLAY_ORDER INT,
    USE_STATE VARCHAR_IGNORECASE(50) NOT NULL
);


